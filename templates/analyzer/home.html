{% extends 'base.html' %}

{% block title %}Анализ рынка аренды жилья{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-8 mx-auto">
        <div class="text-center mb-5">
            <h1 class="display-4 mb-3">Добро пожаловать в RentAnalyzer Pro</h1>
            <p class="lead">Аналитический сервис для оценки справедливой стоимости аренды жилья</p>
        </div>

        <!-- Статистика -->
        <div class="row mb-5">
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 class="display-5 text-primary">{{ total_apartments }}</h2>
                        <h5 class="card-title">Проанализировано квартир</h5>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 class="display-5 text-success">{{ total_offers }}</h2>
                        <h5 class="card-title">Рыночных предложений</h5>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 class="display-5 text-info">{{ cities|length }}</h2>
                        <h5 class="card-title">Городов в базе</h5>
                    </div>
                </div>
            </div>
        </div>

        <!-- Как это работает -->
        <div class="row mb-5">
            <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-body">
                        <h4 class="card-title"><i class="fas fa-search text-primary"></i> Как это работает?</h4>
                        <ol class="mt-3">
                            <li>Добавьте параметры своей квартиры</li>
                            <li>Система найдет похожие предложения на рынке</li>
                            <li>Получите детальный анализ и рекомендации</li>
                            <li>Узнайте справедливую цену аренды</li>
                        </ol>
                        <div class="mt-3">
                            <a href="{% url 'analyzer:add_apartment' %}" class="btn btn-primary">
                                <i class="fas fa-plus"></i> Добавить квартиру
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-body">
                        <h4 class="card-title"><i class="fas fa-chart-line text-success"></i> Преимущества</h4>
                        <ul class="mt-3">
                            <li>Статистический анализ рынка</li>
                            <li>Сравнение с реальными предложениями</li>
                            <li>Графики и визуализация данных</li>
                            <li>Персональные рекомендации</li>
                            <li>Геокодирование адресов</li>
                        </ul>
                        <div class="mt-3">
                            <a href="{% url 'analyzer:market_offers' %}" class="btn btn-success">
                                <i class="fas fa-list-alt"></i> Смотреть предложения
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Быстрый старт -->
        <div class="card">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="fas fa-rocket"></i> Быстрый старт</h5>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-4">
                        <div class="p-3">
                            <i class="fas fa-sign-in-alt fa-2x text-primary mb-3"></i>
                            <h5>1. Войдите в систему</h5>
                            <p>Или зарегистрируйтесь, если еще нет аккаунта</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="p-3">
                            <i class="fas fa-home fa-2x text-success mb-3"></i>
                            <h5>2. Добавьте квартиру</h5>
                            <p>Заполните параметры вашей квартиры</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="p-3">
                            <i class="fas fa-chart-bar fa-2x text-warning mb-3"></i>
                            <h5>3. Получите анализ</h5>
                            <p>Система проанализирует и даст рекомендации</p>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-4">
                    {% if user.is_authenticated %}
                        <a href="{% url 'analyzer:add_apartment' %}" class="btn btn-primary btn-lg me-3">
                            <i class="fas fa-plus"></i> Начать новый анализ
                        </a>
                        <a href="{% url 'analyzer:dashboard' %}" class="btn btn-outline-primary btn-lg">
                            <i class="fas fa-tachometer-alt"></i> Личный кабинет
                        </a>
                    {% else %}
                        <p class="lead">Для начала работы необходимо войти в систему</p>
                        <a href="{% url 'users:login' %}" class="btn btn-primary btn-lg">
                            <i class="fas fa-sign-in-alt"></i> Войти и начать анализ
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}